<html>
<head>
	<script src="Ajax.js" type="text/javascript"></script>
	<script src="LoadAnimation.js" type="text/javascript"></script>
	<script src="SGChecker.js" type="text/javascript"></script>
	<script>

	var animation_config = {
		maxDot: 4,
		current: 0,
		maxCount: 8,
		canvas: 'canvas',
		image: SGChecker.liImage
	};

	Ajax.init( SGChecker.sg_url, 'SGChecker' );
	Ajax.debug = SGChecker.debug;

	function init() {
		LoadAnimation.init( animation_config );
		SGChecker.showLoggedOut();
		LoadAnimation.start();

		Ajax.make_request( SGChecker.success, SGChecker.error );

		chrome.browserAction.onClicked.addListener( function( ) {
			SGChecker.go_to_sg();
		});
	};

	function reload() {
		LoadAnimation.start();

		Ajax.make_request( SGChecker.success, SGChecker.error );
	};

	</script>
</head>
<body onload="init()"> 
	<img id="logged_in" src="sg_in.png">
	<canvas id="canvas" width="19" height="19">
</body>
</html>

